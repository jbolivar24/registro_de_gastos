<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro de Gastos</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <main class="container">
    <h1>üí∏ Registro de Gastos</h1>

    <button id="btnAdd" class="primary">Registrar gasto</button>
    <div class="session-box">
      <button id="changePin">üîê Cambiar PIN</button>
      <button id="logoutBtn">üö™ Cerrar sesi√≥n</button>
    </div>

    <div class="filter-box">
      <label>Mes</label>
      <input type="month" id="monthFilter">
      <button id="clearFilter">Todos</button>
    </div>

    <div id="printMonth" class="print-only"></div>

    <!-- TOTAL GLOBAL -->
    <div class="total-box">
      Total gastado:
      <span id="totalGlobal">$0</span>
    </div>

    <div class="export-box">
      <button id="exportCsv">üì§ Exportar CSV</button>
      <button id="exportPdf">üìÑ Exportar PDF</button>
    </div>

    <!-- TABLA -->
    <table>
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Rubro</th>
          <th>Monto</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="gastosBody"></tbody>
    </table>

    <!-- RESUMEN -->
    <h2>Resumen por rubro</h2>
    <ul id="resumen"></ul>
  </main>

  <h2>Distribuci√≥n por rubro</h2>
  <div class="chart-box">
    <canvas id="chartRubro"></canvas>
  </div>

  <h2>Comparaci√≥n de meses</h2>

  <div class="compare-box">
    <input type="month" id="compareMonthA">
    <input type="month" id="compareMonthB">
    <button id="compareBtn">Comparar</button>
  </div>

  <div id="compareResult"></div>

  <!-- MODAL -->
  <div id="modal" class="modal hidden">
    <div class="modal-content">
      <h3>Registrar gasto</h3>

      <label>Fecha</label>
      <input type="date" id="date">

      <label>Rubro</label>
      <select id="category">
        <option>AGUA</option>
        <option>DIVIDENDO</option>
        <option>CELULARES</option>
        <option>CREDITO MERCADOLIBRE</option>
        <option>CREDITO SANTANDER</option>
        <option>ELECTRICIDAD</option>
        <option>GAS</option>
        <option>GASTOS COMUNES</option>
        <option>INTERNET</option>
        <option>TARJETA DE CREDITO</option>
        <option>OTROS GASTOS</option>
      </select>

      <label>Monto</label>
      <input type="number" id="amount" placeholder="Ej: 250265">

      <label>Nota (opcional)</label>
      <input type="text" id="note">

      <div class="actions">
        <button id="cancel">Cancelar</button>
        <button id="save" class="primary">Guardar</button>
      </div>
    </div>
  </div>

  <div id="pinModal" class="modal hidden">
    <div class="modal-content">
      <h3 id="pinTitle">Acceso personal</h3>

      <input
        type="password"
        id="pinInput"
        maxlength="4"
        inputmode="numeric"
        placeholder="PIN de 4 d√≠gitos"
      >

      <button id="pinConfirm" class="primary">Confirmar</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="pin.js"></script>
  <script src="app.js"></script>

</body>
</html>
